import { useState } from 'react'
import { Box, Input, InputGroup, InputRightElement } from '@chakra-ui/react'

export default function PasswordInput({ register, name }: { register: any; name: string }) {
  const [show, setShow] = useState(false)
  const handleClick = () => setShow(!show)

  return (
    <InputGroup size='md'>
      <Input {...register(name)} id={name} pr='4.5rem' type={show ? 'text' : 'password'} placeholder='Enter password' />
      <InputRightElement width='2.5rem' h="100%">
        <Box onClick={handleClick} sx={{ display: 'grid', placeItems: 'center', cursor: 'pointer' }}>
          <svg width='16' height='12' viewBox='0 0 16 12' fill='none' xmlns='http://www.w3.org/2000/svg'>
            <path
              d='M15.8586 11.0391L1.78336 0.0822657C1.74476 0.0514872 1.70044 0.0285818 1.65294 0.0148574C1.60545 0.00113296 1.5557 -0.00314169 1.50655 0.00227748C1.45739 0.00769665 1.40979 0.0227035 1.36646 0.0464412C1.32313 0.070179 1.28492 0.102183 1.25401 0.140625L1.01864 0.43336C0.987655 0.471815 0.964592 0.515977 0.950768 0.563317C0.936944 0.610658 0.932631 0.660248 0.938074 0.70925C0.943518 0.758253 0.958612 0.805705 0.982492 0.848892C1.00637 0.89208 1.03857 0.930154 1.07724 0.960938L15.1525 11.9177C15.1911 11.9485 15.2354 11.9714 15.2829 11.9851C15.3304 11.9989 15.3802 12.0031 15.4293 11.9977C15.4785 11.9923 15.5261 11.9773 15.5694 11.9536C15.6127 11.9298 15.651 11.8978 15.6819 11.8594L15.9172 11.5666C15.9482 11.5282 15.9713 11.484 15.9851 11.4367C15.9989 11.3893 16.0032 11.3398 15.9978 11.2908C15.9924 11.2417 15.9773 11.1943 15.9534 11.1511C15.9295 11.1079 15.8973 11.0698 15.8586 11.0391ZM7.92164 3.43289L11.0942 5.90273C11.042 4.49789 9.89147 3.375 8.46794 3.375C8.28431 3.37534 8.10122 3.39474 7.92164 3.43289ZM9.01423 8.56734L5.84165 6.0975C5.89414 7.50211 7.04464 8.625 8.46794 8.625C8.65155 8.62461 8.83462 8.60529 9.01423 8.56734ZM8.46794 2.625C10.7899 2.625 12.9186 3.91406 14.0681 6C13.7864 6.51337 13.4382 6.98773 13.0325 7.41094L13.9208 8.10234C14.4154 7.57551 14.8344 6.9831 15.1659 6.34195C15.2198 6.2359 15.2478 6.11872 15.2478 5.99988C15.2478 5.88104 15.2198 5.76387 15.1659 5.65781C13.8883 3.17789 11.3614 1.5 8.46794 1.5C7.60412 1.5 6.78008 1.66406 6.00523 1.94086L7.0976 2.79141C7.54339 2.69063 8.00001 2.625 8.46794 2.625ZM8.46794 9.375C6.14599 9.375 4.01752 8.08594 2.86772 6C3.14988 5.48664 3.49846 5.01236 3.90454 4.5893L3.01624 3.89789C2.52176 4.42464 2.10283 5.01698 1.77136 5.65805C1.71751 5.7641 1.68946 5.88128 1.68946 6.00012C1.68946 6.11896 1.71751 6.23613 1.77136 6.34219C3.04778 8.82211 5.57474 10.5 8.46794 10.5C9.33175 10.5 10.1558 10.3348 10.9306 10.0591L9.83827 9.20883C9.39248 9.30937 8.93609 9.375 8.46794 9.375Z'
              fill='black'
            />
          </svg>
        </Box>
      </InputRightElement>
    </InputGroup>
  )
}
